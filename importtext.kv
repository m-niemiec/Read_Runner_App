#:import Clipboard kivy.core.clipboard.Clipboard
#:set imported_text_type 'Book'

<ImportText>:
    name: 'importtext'
    id: importtext

    BoxLayout:
        orientation: 'vertical'

        Button:
            text: 'Copy text from clipboard'
            font_style: 'H4'
            on_release: app.root.get_screen('mainscreen').importtext.import_from_clipboard()

        Button:
            text: 'Import text from file (.txt .pdf .mobi)'
            font_style: 'H4'
            on_release: app.root.get_screen('mainscreen').importtext.import_from_file()

        MDTextField:
            id: imported_text_title_field
            multiline: False
            hint_text: 'Title'
            text: ''

        MDTextField:
            id: imported_text_author_field
            multiline: False
            hint_text: 'Author'
            text: ''

        MDTextField:
            id: imported_text_field
            multiline: True
            hint_text: 'Preview of your text'
            text: ''

        MDLabel:
            text: 'Select text type:'

        GridLayout:
            cols: 4

            MDLabel:
                text: 'Book'
            MDCheckbox:
                active: False
                group: 'group'
                on_active: root.imported_text_type = 'Book'

            MDLabel:
                text: 'Article'
            MDCheckbox:
                active: False
                group: 'group'
                on_active: root.imported_text_type = 'Article'

        Button:
            text: 'Save new Text!'
            font_style: 'H4'
            on_release: app.root.get_screen('mainscreen').importtext.save_new_text()

<TextLoading>
    BoxLayout:
        orientation: 'vertical'

        MDLabel:
            id: import_progress
            text: root.import_progress

        MDSpinner:
            size_hint: None, None
            size: dp(46), dp(46)
            pos_hint: {'center_x': .5, 'center_y': .5}
            active: True